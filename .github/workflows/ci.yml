name: CI
on:
  push:
    paths-ignore:
      - "*.md"
  #  branches:
  #    - master
  #
  # pull_request:
  #   paths:
  #     # Crystal code and dependencies
  #     - "*.cr"
  #     - "shard.*"
  #     # Test harness
  #     - "docker-compose.yml"
  #     - "Dockerfile"
  #     - "test"

jobs:
  test:
    uses: PlaceOS/.github/.github/workflows/containerised-test.yml
    with:
      todo_issues: true
      first_commit: 0a1e7680dc203f278f18fbe1f81bfd2713b83d1c

  crystal-style:
    uses: PlaceOS/.github/.github/workflows/crystal-style.yml@main

  dockerfile-style:
    uses: PlaceOS/.github/.github/workflows/dockerfile-style.yml@main
