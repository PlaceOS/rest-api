name: placeos-rest-api
version: 1.18.1

targets:
  rest-api:
    main: src/app.cr

dependencies:
  # Server framework
  action-controller:
    github: spider-gazelle/action-controller
    version: ~> 3

  # Data validation library
  active-model:
    github: spider-gazelle/active-model
    version: ~> 2

  # Email validations
  CrystalEmail:
    github: Nephos/CrystalEmail
    version: ~> 0.2

  # Service discovery
  hound-dog:
    github: place-labs/hound-dog
    version: ~> 2.2

  # JSON Web Token support
  jwt:
    github: crystal-community/jwt
    version: ~> 1

  # Elasticsearch extension for RethinkORM
  neuroplastic:
    github: place-labs/neuroplastic
    version: ~> 1.7

  # Performs ping requests
  pinger:
    github: spider-gazelle/pinger
    version: ~> 1

  # For core client
  placeos-core:
    github: placeos/core
    branch: feat/edge

  # For driver state helpers
  placeos-driver:
    github: placeos/driver
    version: ~> 3.6

  # For frontends client
  placeos-frontends:
    github: placeos/frontends
    version: ~> 0.10, ">= 0.10.3"

  # Database view
  placeos-models:
    github: placeos/models
    version: ~> 4.0

  # A familiar abstraction over native Fibers
  promise:
    github: spider-gazelle/promise
    version: ~> 2.2

  # RethinkDB client
  rethinkdb:
    github: kingsleyh/crystal-rethinkdb
    version: ~> 0.2

  # ORM for RethinkDB built on active-model
  rethinkdb-orm:
    github: spider-gazelle/rethinkdb-orm
    version: ~> 3

  # Client for RubberSoul RethinkDB Elasticsearch indexer
  rubber-soul:
    github: placeos/rubber-soul
    version: ~> 1.14

  # Scheduling
  tasker:
    github: spider-gazelle/tasker
    version: ~> 2

  # Secrets parsing
  secrets-env:
    github: place-labs/secrets-env
    version: ~> 1

development_dependencies:
  # Linter
  ameba:
    github: crystal-ameba/ameba

  # Mock data generation
  faker:
    github: askn/faker

  # Retry
  simple_retry:
    github: spider-gazelle/simple_retry
